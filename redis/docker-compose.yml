version: "3"
services:

  redis:
    image: redis:6.0.6
    command:  >
      redis-server
      --appendonly yes
      --requirepass ${REDIS_PASSWORD:-123456}
    hostname: ${REDIS_HOSTNAME:-redis}
    container_name: ${REDIS_CONTAINER_NAME:-redis}
    network_mode: custom
    restart: always
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - redis:/data:rw
    expose:
      - 6379/tcp

volumes:
  redis:
    driver: local
